(this.webpackJsonpreversi=this.webpackJsonpreversi||[]).push([[0],{14:function(e,t,s){},15:function(e,t,s){},16:function(e,t,s){},17:function(e,t,s){"use strict";s.r(t);var l=s(0),a=s(1),r=s.n(a),n=s(8),i=s.n(n),c=(s(14),s.p,s(4)),o=s(2),u=s(3),h=s(6),v=s(5),f=[{x:0,y:1},{x:1,y:1},{x:1,y:0},{x:1,y:-1},{x:0,y:-1},{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1}],p=function(e,t,s,l){for(var a=t.x+s.x,r=t.y+s.y;a>=0&&a<8&&r>=0&&r<8&&l.handleCell(a,r,e[a][r]);a+=s.x,r+=s.y);},y=function(){function e(t){Object(o.a)(this,e),this.hasOtherPieces=!1,this.endsWithEmptySpace=!1,this.myColor=t,this.otherColor=t===j?b:j}return Object(u.a)(e,[{key:"handleCell",value:function(e,t,s){return this.endPoint={x:e,y:t},s===this.otherColor?(this.hasOtherPieces=!0,!0):s!==this.myColor&&(null==s?(this.endsWithEmptySpace=!0,!1):void 0)}},{key:"isValidMove",value:function(){return this.hasOtherPieces&&this.endsWithEmptySpace}}]),e}(),d=function(){function e(t){Object(o.a)(this,e),this.flip=!1,this.piecesToFlip=[],this.myColor=t,this.otherColor=t===j?b:j}return Object(u.a)(e,[{key:"handleCell",value:function(e,t,s){return s===this.otherColor?(this.piecesToFlip.push({x:e,y:t}),!0):s===this.myColor?(this.flip=!0,!1):null!=s&&void 0}}]),e}(),b="black",j="white",C=function(e){Object(h.a)(s,e);var t=Object(v.a)(s);function s(e){var l;Object(o.a)(this,s),(l=t.call(this,e)).handleClick=function(e,t){null==l.state.cells[e][t]&&l.isLegalClick(e,t)&&l.state.currentPlayer===b&&!0!==l.state.pass&&!l.gameHasEnded()&&(l.consecutivePasses=0,l.makeMove(b,e,t),setTimeout((function(){return l.computerMove()}),2e3))};for(var a=[],r=0;r<8;r++)a[r]=Array(8).fill(null);return a[3][3]=b,a[4][4]=b,a[3][4]=j,a[4][3]=j,l.state={cells:a,currentPlayer:b},l.legalCells=l.getLegalCells(l.state.currentPlayer),l.consecutivePasses=0,l}return Object(u.a)(s,[{key:"gameHasEnded",value:function(){if(2===this.consecutivePasses)return!0;for(var e=0;e<8;e++)for(var t=0;t<8;t++)if(null==this.state.cells[e][t])return!1;return!0}},{key:"calculateWinner",value:function(){for(var e=0,t=0,s=0;s<8;s++)for(var l=0;l<8;l++)switch(this.state.cells[s][l]){case j:e++;break;case b:t++}return e===t?"tie":e>t?j:b}},{key:"isLegalClick",value:function(e,t){var s,l=Object(c.a)(this.legalCells);try{for(l.s();!(s=l.n()).done;){var a=s.value;if(a.x===e&&a.y===t)return!0}}catch(r){l.e(r)}finally{l.f()}return!1}},{key:"computerMove",value:function(){var e=this;this.legalCells=[],this.setState({cells:this.state.cells,currentPlayer:j,pass:!1});var t=this.getLegalCells(j);if(0===t.length)this.setState({cells:this.state.cells,currentPlayer:j,pass:!0}),this.consecutivePasses++,setTimeout((function(){e.setState({cells:e.state.cells,currentPlayer:b,pass:!1})}),2e3);else{this.consecutivePasses=0;var s=t[Math.floor(Math.random()*t.length)];this.makeMove(j,s.x,s.y)}this.setState({cells:this.state.cells,currentPlayer:b,pass:!1}),this.prepareForHumanMove()}},{key:"prepareForHumanMove",value:function(){var e=this;this.legalCells=this.getLegalCells(b),0===this.legalCells.length&&(this.setState({cells:this.state.cells,currentPlayer:b,pass:!0}),this.consecutivePasses++,setTimeout((function(){e.computerMove()}),2e3))}},{key:"makeMove",value:function(e,t,s){var l=this.state.cells.slice();l[t][s]=e;var a,r=Object(c.a)(f);try{for(r.s();!(a=r.n()).done;){var n=a.value,i=new d(e);if(p(l,{x:t,y:s},n,i),i.flip){var o,u=Object(c.a)(i.piecesToFlip);try{for(u.s();!(o=u.n()).done;){var h=o.value;l[h.x][h.y]=e}}catch(v){u.e(v)}finally{u.f()}}}}catch(v){r.e(v)}finally{r.f()}this.legalCells=e===b?[]:this.getLegalCells(b),this.setState({cells:l,currentPlayer:e===b?j:b,pass:!1})}},{key:"getLegalCells",value:function(e){for(var t=[],s=0;s<8;s++)for(var l=0;l<8;l++)if(this.state.cells[s][l]===e){var a,r=Object(c.a)(f);try{for(r.s();!(a=r.n()).done;){var n=a.value,i=new y(e);p(this.state.cells,{x:s,y:l},n,i),i.isValidMove()&&t.push(i.endPoint)}}catch(o){r.e(o)}finally{r.f()}}return t}},{key:"render",value:function(){return Object(l.jsx)(g,{winner:this.gameHasEnded()?this.calculateWinner():null,currentPlayer:this.state.currentPlayer,pass:this.state.pass,cells:this.state.cells,legalCells:this.legalCells,handleClick:this.handleClick})}}]),s}(r.a.Component),k=(s(15),"available"),O=function(e){Object(h.a)(s,e);var t=Object(v.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(C,{}),"Something else"]})}}]),s}(r.a.Component),g=function(e){Object(h.a)(s,e);var t=Object(v.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"renderCell",value:function(e,t){var s,a,r=this,n=!1,i=Object(c.a)(this.props.legalCells);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o.x===e&&o.y===t){n=!0,s=k;break}}}catch(u){i.e(u)}finally{i.f()}return n||(s=this.props.cells[e][t]),Object(l.jsx)(m,{value:s,onClick:function(){return r.props.handleClick(e,t)}},"".concat(e,"_").concat(t))}},{key:"renderRow",value:function(e){for(var t=[],s=0;s<this.props.cells[e].length;s++)t.push(this.renderCell(e,s));return Object(l.jsx)("div",{className:"board-row",children:t},e)}},{key:"render",value:function(){var e;e=this.props.winner?"tie"===this.props.winner?"Tie":"Winner: "+this.props.winner:this.props.pass?"PASS":"Next player: "+this.props.currentPlayer;for(var t=[],s=0;s<this.props.cells.length;s++)t.push(this.renderRow(s));return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"status",children:e}),Object(l.jsx)("div",{className:"board",children:t})]})}}]),s}(r.a.Component);function m(e){var t;switch(e.value){case"white":t="board-cell-white";break;case"black":t="board-cell-black";break;case k:t="board-cell-available";break;default:t="board-cell"}return Object(l.jsx)("button",{className:t,onClick:e.onClick})}s(16);var x=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(O,{})})},P=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,18)).then((function(t){var s=t.getCLS,l=t.getFID,a=t.getFCP,r=t.getLCP,n=t.getTTFB;s(e),l(e),a(e),r(e),n(e)}))};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root")),P()}},[[17,1,2]]]);
//# sourceMappingURL=main.704f87aa.chunk.js.map